# **Memory Mosaic üü•üü®üü©üü¶**

> **Note:** This document is available in both English and Portuguese. The English version is presented first, followed by the Portuguese version.
>
> **Nota:** Este documento est√° dispon√≠vel em ingl√™s e portugu√™s. A vers√£o em ingl√™s √© apresentada primeiro, seguida pela vers√£o em portugu√™s.

---

## **English**

### What is Memory Mosaic?

Memory Mosaic is an Anki addon that transforms your card collection into an interactive visual grid. Each card is represented by a small colored square ("tile"), with the color indicating the current learning status. It's similar to a disk defragmenter, but for your study cards!

![Memory Mosaic exemplo](https://i.ibb.co/8L2f5GjZ/image.png)

![Memory Mosaic exemplo](https://i.ibb.co/5XnVCRq0/image.png)

![Memory Mosaic exemplo](https://i.ibb.co/x8Jh5g4k/image.png)


### How does it work?

- **Grid Visualization:** Your cards are organized into a compact grid, allowing you to view hundreds or thousands of cards at once.
- **Two Visualization Modes:**
  - **Card States:** Shows cards colored by their learning state
  - **Gradient:** Shows cards in a color gradient based on properties like interval, ease factor, repetitions, lapses, or time until due
- **Intuitive Color System (Card States mode):**
  - **White:** New cards
  - **Dark Green:** Mature cards (interval ‚â• 21 days)
  - **Light Green:** Young/learning cards
  - **Red:** Relearning cards
  - **Dark Gray:** Suspended/buried cards
- **Sorting Options:**
  - By creation date
  - By interval (ascending or descending)
  - By due date
- **Interactivity:**
  - Hover over a square to see card details
  - Click on a square to open the card in Anki's browser
  - A dot in the center indicates cards due today
- **Progressive Loading:** For very large collections, cards are loaded in batches (e.g., initial 4000), with "Show More" and "Show All" buttons to load the rest, ensuring better initial performance.

### Main benefits

- **Panoramic View:** See your entire collection or specific deck at once
- **Visual Tracking:** Immediately see the distribution of different card states
- **Natural Integration:** Automatically appears in the deck browser and overview screen
- **Automatic Updates:** Updates when you navigate or sync with AnkiWeb

### License and Contact

- **Copyright(C)** [Your Name Here]
- Licensed under [GNU AGPL, version 3](http://www.gnu.org/licenses/agpl.html)
- For bugs or suggestions, please open an issue at [https://github.com/cjdduarte/MemoryMosaic/issues](https://github.com/cjdduarte/MemoryMosaic/issues).

---

## **Portugu√™s**

### O que √© o Memory Mosaic?

O Memory Mosaic √© um addon para o Anki que transforma sua cole√ß√£o de cart√µes em uma grade visual interativa. Cada cart√£o √© representado por um pequeno quadrado colorido ("tile"), cuja cor indica o status de aprendizado atual. √â semelhante a um desfragmentador de disco, mas para seus cart√µes de estudo!

![Memory Mosaic exemplo](https://i.ibb.co/8L2f5GjZ/image.png)

![Memory Mosaic exemplo](https://i.ibb.co/5XnVCRq0/image.png)

![Memory Mosaic exemplo](https://i.ibb.co/x8Jh5g4k/image.png)

### Como funciona?

- **Visualiza√ß√£o em Grade:** Seus cart√µes s√£o organizados em uma grade compacta, permitindo visualizar centenas ou milhares de cart√µes de uma s√≥ vez.
- **Dois Modos de Visualiza√ß√£o:**
  - **Estados dos Cart√µes:** Mostra cart√µes coloridos por seu estado de aprendizado
  - **Gradiente:** Mostra cart√µes em um gradiente de cores baseado em propriedades como intervalo, fator de facilidade, repeti√ß√µes, lapsos ou tempo at√© o vencimento
- **Sistema de Cores Intuitivo (modo Estados dos Cart√µes):**
  - **Branco:** Cart√µes novos
  - **Verde Escuro:** Cart√µes maduros (intervalo ‚â• 21 dias)
  - **Verde Claro:** Cart√µes jovens/em aprendizado
  - **Vermelho:** Cart√µes em reaprendizado
  - **Cinza Escuro:** Cart√µes suspensos/enterrados
- **Op√ß√µes de Ordena√ß√£o:**
  - Por data de cria√ß√£o
  - Por intervalo (crescente ou decrescente)
  - Por data de vencimento
- **Interatividade:**
  - Passe o mouse sobre um quadrado para ver detalhes do cart√£o
  - Clique em um quadrado para abrir o cart√£o no navegador do Anki
  - Um ponto no centro indica cart√µes agendados para hoje
- **Carregamento Progressivo:** Para cole√ß√µes muito grandes, os cart√µes s√£o carregados em lotes (ex: 4000 iniciais), com bot√µes "Mostrar Mais" e "Mostrar Todos" para carregar o restante, garantindo melhor performance inicial.

### Principais benef√≠cios

- **Vis√£o Panor√¢mica:** Visualize toda sua cole√ß√£o ou deck espec√≠fico de uma s√≥ vez
- **Acompanhamento Visual:** Veja a distribui√ß√£o dos diferentes estados dos cart√µes imediatamente
- **Integra√ß√£o Natural:** Aparece automaticamente no navegador de decks e na tela de vis√£o geral
- **Atualiza√ß√£o Autom√°tica:** Se atualiza quando voc√™ navega ou sincroniza com o AnkiWeb

### Licen√ßa e Contato

- **Copyright(C)** [Carlos Duarte]
- Licenciado sob [GNU AGPL, version 3](http://www.gnu.org/licenses/agpl.html)
- Para bugs ou sugest√µes, por favor, abra uma issue em [https://github.com/cjdduarte/MemoryMosaic/issues](https://github.com/cjdduarte/MemoryMosaic/issues).

## **Changelog**

- **v1.5 - 2025-05-22 - Classification Fix**:
  - Fixed bug that incorrectly classified relearning cards with `type=3` and `queue=1` as "Default/Error" instead of "Relearning/Lapse".
  - Memory Mosaic now correctly identifies all relearning cards, regardless of the type/queue combination.

- **v1.4 - 2025-05-22 - Visual Enhancement**:
  - Added visual indicator for due cards in the summary, showing a rectangle with a centered red dot, simulating how the indicator appears on cards in the grid.
  - Improved summary legend for better understanding of visual elements.

- **v1.3 - 2025-05-22 - Configuration Improvements & UI Enhancement**:
  - Removed default values from configuration retrieval functions, making the addon more resilient to missing configuration keys.
  - Added "Factor" field to card tooltips, showing the card's ease factor value for better visualization of Anki's scheduling algorithm parameters.
  - Fixed translation-related issues for consistency between UI elements.

- **v1.2 - 2025-05-21 - Performance Optimizations & Progressive Loading**: 
  - Optimized fetching of last review dates for tooltips (batch query instead of per-card query), significantly improving performance on large collections.
  - Optimized calculation of "today's date" for due checks and gradient calculations (calculated once per grid render).
  - Optimized configuration reading for IVL gradient tooltips (read once per grid render).
  - Added progressive loading (pagination) for cards, with "Show More" and "Show All" buttons, improving initial load time for very large collections.

- **v1.1 - 2025-05-21 - Bug fix & Improvements**:
  - Corrected the sort order dropdown label to avoid redundancy and improve clarity.
  - Added a specific configuration key (`label_sort_order_group`) for the sort order group label.
  - Multilingual support for UI elements and messages.

- **v1.0 - 2025-05-20 - Initial Release**:
